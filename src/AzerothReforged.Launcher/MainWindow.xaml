<Window x:Class="AzerothReforged.Launcher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Azeroth Reforged" Width="980" Height="620"
        WindowStartupLocation="CenterScreen">

  <!-- styles -->
  <Window.Resources>
    <SolidColorBrush x:Key="PanelBg" Color="#66000000"/>
    <SolidColorBrush x:Key="PanelBorder" Color="#5533A0E0"/>

    <Style x:Key="PlayButtonStyle" TargetType="Button">
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="FontWeight" Value="Bold"/>
      <Setter Property="FontSize" Value="18"/>
      <Setter Property="Padding" Value="10,8"/>
      <Setter Property="Background">
        <Setter.Value>
          <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#FFF1C55A" Offset="0"/>
            <GradientStop Color="#FFB67C14" Offset="1"/>
          </LinearGradientBrush>
        </Setter.Value>
      </Setter>
      <Setter Property="BorderBrush" Value="#FF5B3B06"/>
      <Setter Property="BorderThickness" Value="2"/>
      <Setter Property="Cursor" Value="Hand"/>
      <Setter Property="Effect">
        <Setter.Value>
          <DropShadowEffect Color="Black" Opacity="0.6" ShadowDepth="2" BlurRadius="8"/>
        </Setter.Value>
      </Setter>
      <Style.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter Property="Background">
            <Setter.Value>
              <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                <GradientStop Color="#FFFFD978" Offset="0"/>
                <GradientStop Color="#FFD08A1B" Offset="1"/>
              </LinearGradientBrush>
            </Setter.Value>
          </Setter>
        </Trigger>
        <Trigger Property="IsEnabled" Value="False">
          <Setter Property="Opacity" Value="0.6"/>
        </Trigger>
      </Style.Triggers>
    </Style>

    <Style x:Key="SecondaryButton" TargetType="Button">
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="Background" Value="#2B000000"/>
      <Setter Property="BorderBrush" Value="#55FFFFFF"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="Padding" Value="10,8"/>
    </Style>
  </Window.Resources>

  <!-- background image via pack URI -->
  <Window.Background>
    <ImageBrush ImageSource="pack://application:,,,/Assets/bg_main.png"
                Stretch="UniformToFill" AlignmentX="Center" AlignmentY="Center"/>
  </Window.Background>

  <!-- layout -->
  <Grid Margin="12">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="2*"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>

    <!-- LEFT: Updater (status/log over buttons) -->
    <Border Grid.Column="0" Background="{StaticResource PanelBg}"
            BorderBrush="{StaticResource PanelBorder}" BorderThickness="1"
            Padding="12" Margin="0,0,12,0">
      <!-- Three rows: header/status, log, bottom buttons -->
      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header / status -->
        <StackPanel Grid.Row="0" Margin="0,0,0,8">
          <TextBlock Text="Azeroth Reforged" FontSize="26" FontWeight="Bold" Foreground="White"/>
          <TextBlock x:Name="StatusText" Text="Ready" Margin="0,4,0,8" Foreground="#FFD0E8FF"/>
          <ProgressBar x:Name="MainProgress" Height="16" Minimum="0" Maximum="100"/>
        </StackPanel>

        <!-- Log (manifest/update details) -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
          <ListBox x:Name="LogList" Foreground="#FFEEEEEE" Background="#22000000"
                   BorderThickness="0" />
        </ScrollViewer>

        <!-- Bottom buttons -->
        <Grid Grid.Row="2" Margin="0,10,0,0">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="1.2*"/>
          </Grid.ColumnDefinitions>

          <Button x:Name="BtnUpdate" Grid.Column="0" Content="Update / Repair"
                  Style="{StaticResource SecondaryButton}" Click="BtnUpdate_Click"
                  Margin="0,0,8,0"/>
          <Button x:Name="BtnConfig" Grid.Column="1" Content="Options"
                  Style="{StaticResource SecondaryButton}" Click="BtnConfig_Click"
                  Margin="8,0,8,0"/>
          <Button x:Name="BtnPlay" Grid.Column="2" Content="PLAY"
                  Style="{StaticResource PlayButtonStyle}" Click="BtnPlay_Click"
                  Margin="8,0,0,0"/>
        </Grid>
      </Grid>
    </Border>

    <!-- RIGHT: News -->
    <Border Grid.Column="1" Background="{StaticResource PanelBg}"
            BorderBrush="{StaticResource PanelBorder}" BorderThickness="1"
            Padding="12">
      <DockPanel>
        <TextBlock DockPanel.Dock="Top" Text="News" FontWeight="Bold" FontSize="18" Foreground="White" Margin="0,0,0,8"/>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
          <StackPanel x:Name="NewsPanel"/>
        </ScrollViewer>
        <Button DockPanel.Dock="Bottom" Content="Refresh" Width="100" HorizontalAlignment="Right" Margin="0,8,0,0"
                Style="{StaticResource SecondaryButton}" Click="RefreshNews_Click"/>
      </DockPanel>
    </Border>
  </Grid>
</Window>
