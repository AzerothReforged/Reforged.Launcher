<Window x:Class="AzerothReforged.Launcher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Azeroth Reforged" Width="980" Height="620"
        WindowStartupLocation="CenterScreen">

  <!-- Styles -->
  <Window.Resources>
    <SolidColorBrush x:Key="PanelBg" Color="#66000000"/>
    <SolidColorBrush x:Key="PanelBorder" Color="#5533A0E0"/>

    <Style x:Key="PlayButtonStyle" TargetType="Button">
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="FontWeight" Value="Bold"/>
      <Setter Property="FontSize" Value="18"/>
      <Setter Property="Padding" Value="10,8"/>
      <Setter Property="Background">
        <Setter.Value>
          <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#FFF1C55A" Offset="0"/>
            <GradientStop Color="#FFB67C14" Offset="1"/>
          </LinearGradientBrush>
        </Setter.Value>
      </Setter>
      <Setter Property="BorderBrush" Value="#FF5B3B06"/>
      <Setter Property="BorderThickness" Value="2"/>
      <Setter Property="Cursor" Value="Hand"/>
      <Setter Property="Effect">
        <Setter.Value>
          <DropShadowEffect Color="Black" Opacity="0.6" ShadowDepth="2" BlurRadius="8"/>
        </Setter.Value>
      </Setter>
      <Style.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter Property="Background">
            <Setter.Value>
              <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                <GradientStop Color="#FFFFD978" Offset="0"/>
                <GradientStop Color="#FFD08A1B" Offset="1"/>
              </LinearGradientBrush>
            </Setter.Value>
          </Setter>
        </Trigger>
        <Trigger Property="IsEnabled" Value="False">
          <Setter Property="Opacity" Value="0.6"/>
        </Trigger>
      </Style.Triggers>
    </Style>

    <Style x:Key="SecondaryButton" TargetType="Button">
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="Background" Value="#2B000000"/>
      <Setter Property="BorderBrush" Value="#55FFFFFF"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="Padding" Value="10,8"/>
    </Style>
  </Window.Resources>

  <!-- Background image -->
  <Window.Background>
    <ImageBrush ImageSource="pack://application:,,,/Assets/bg_main.png"
                Stretch="UniformToFill" AlignmentX="Center" AlignmentY="Center"/>
  </Window.Background>

  <!-- Main layout -->
  <Grid Margin="12">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="2*"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>

    <!-- LEFT -->
    <Border Grid.Column="0" Background="{StaticResource PanelBg}"
            BorderBrush="{StaticResource PanelBorder}" BorderThickness="1"
            Padding="12" Margin="0,0,12,0">
      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>  <!-- Title (logo on dark strip) -->
          <RowDefinition Height="*"/>     <!-- Log -->
          <RowDefinition Height="Auto"/>  <!-- Status text -->
          <RowDefinition Height="Auto"/>  <!-- Progress bar -->
          <RowDefinition Height="Auto"/>  <!-- Buttons -->
        </Grid.RowDefinitions>

        <!-- Title at top with its own darkened background -->
        <Border Grid.Row="0" Background="#66000000" Padding="6" CornerRadius="4" Margin="0,0,0,8">
            <DockPanel LastChildFill="False">
                <Image x:Name="LogoImage"
                       Source="pack://application:,,,/Assets/logo.png"
                       Height="64"
                       Stretch="Uniform"
                       VerticalAlignment="Center"
                       ImageFailed="LogoImage_ImageFailed"/>
                <TextBlock x:Name="LogoFallback"
                           Text="Azeroth Reforged"
                           FontSize="24"
                           FontWeight="Bold"
                           Foreground="White"
                           VerticalAlignment="Center"
                           Visibility="Collapsed"/>
            </DockPanel>
        </Border>


        <!-- Log in middle -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
          <ListBox x:Name="LogList"
                   Foreground="#FFEEEEEE" Background="#22000000"
                   BorderThickness="0"/>
        </ScrollViewer>

        <!-- Status text above progress bar -->
        <TextBlock x:Name="StatusText"
                   Text="Checking files..."
                   Foreground="#FFD0E8FF" Margin="0,6,0,0"
                   Grid.Row="2"/>

        <!-- Progress bar -->
        <ProgressBar x:Name="MainProgress"
                     Grid.Row="3" Height="16" Margin="0,4,0,8"
                     Minimum="0" Maximum="100"/>

        <!-- Buttons -->
        <Grid Grid.Row="4">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="1.2*"/>
          </Grid.ColumnDefinitions>

          <!-- Donate -->
          <Button x:Name="BtnDonate" Grid.Column="0" Content="Donate"
                  Style="{StaticResource SecondaryButton}" Margin="0,0,8,0"
                  Click="BtnDonate_Click"/>

          <!-- Options -->
          <Button x:Name="BtnConfig" Grid.Column="1" Content="Options"
                  Style="{StaticResource SecondaryButton}" Margin="8,0,8,0"
                  Click="BtnConfig_Click"/>

          <!-- Play / Update / Install -->
          <Button x:Name="BtnPrimary" Grid.Column="2" Content="PLAY"
                  Style="{StaticResource PlayButtonStyle}" Margin="8,0,0,0"
                  Click="BtnPrimary_Click"/>
        </Grid>
      </Grid>
    </Border>

    <!-- RIGHT: News -->
    <Border Grid.Column="1" Background="{StaticResource PanelBg}"
            BorderBrush="{StaticResource PanelBorder}" BorderThickness="1"
            Padding="12">
      <DockPanel>
        <TextBlock DockPanel.Dock="Top"
                   Text="News" FontWeight="Bold" FontSize="18"
                   Foreground="White" Margin="0,0,0,8"/>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
          <StackPanel x:Name="NewsPanel"/>
        </ScrollViewer>
        <Button DockPanel.Dock="Bottom" Content="Refresh" Width="100"
                HorizontalAlignment="Right" Margin="0,8,0,0"
                Style="{StaticResource SecondaryButton}"
                Click="RefreshNews_Click"/>
      </DockPanel>
    </Border>
  </Grid>
</Window>
